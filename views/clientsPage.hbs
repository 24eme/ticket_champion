{{> header}}

<section class="adaptative-div">
  <div class="container" style="flex: 1">
    <div class="row">
      <div class="col-lg">
        <div class="clients-container">
          <h1 class="h1-clients">Bienvenue {{entreprise}} ! </h1>
          <div class="separator_center"></div>
          <h2 class="h2-clients"> &#127835; Aujourd'hui, je veux commander pour &#127790; </h2>
          <div class="list-group border-clients">
            <li class="list-group-item">
              {{#each listEmployee}}
                <ul class="client-ul">
                  <a href='/plats'>
                    <input type="submit" class="btn-clients text-white selection-nom-employee" id="employeButton{{@index}}" name="{{this.id_client}}" value="{{this.nom}}"/>
                  </a>
                </ul>

              {{/each}}

            </li>
          </div>


        </div>
      </div>
    </div>
  </div>
</section>

<script>

  const allButton = document.querySelectorAll('[id^="employeButton"]');
  allButton.forEach(button => {
  button.addEventListener('click', (event) => {
  const buttonText = event.target.value;
  const id = event.target.name;
  const xhr = new XMLHttpRequest();
    xhr.open('POST', '/clients');
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.send(JSON.stringify({ buttonText, id }));

    });

  });
</script>

{{> footer}}
