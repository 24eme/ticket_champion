{{> header}}

<section>
    <h2 class="text-center texte-intro">Un (ou plusieurs..) petit supplément ?</h2>
    <div class="container plat-parent">
            <div class="plat-enfant">
                <ul> {{#each data.data.restaurants.[0].supplements}}
                    <img class="image-de-plat" src={{this.img}} alt="image du supplement">
                    <h4 class="text-center nom-du-plat">{{this.nom}} - {{this.prix}}€</h4>
                    <span class="liste-ingredients">{{this.ingredients}}</span>
                    <li> <button type="button" class="btn btn-primary btn-lg B1 bouton-ajout" title="{{this.prix}}" id="{{this.nom}}">Ajouter a la commande</button></li>
                {{/each}}
                </ul>
            </div>
    </div>
  <a href='/plats'>
    <input type="submit" class="btn btn-primary btn-previous" value="Précédent"/>
  </a>
  <a href='/heureLivraison'>
    <input type="submit" class="btn btn-primary btn-next" value="Suivant"/>
  </a>
</section>

            <script>
 
  const allButton = document.querySelectorAll('.B1');
  allButton.forEach(button => {
  button.addEventListener('click', (event) => {
  const buttonText = event.target.id;
  const prix = event.target.title;
  const xhr = new XMLHttpRequest();
    xhr.open('POST', '/supplements');
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.send(JSON.stringify({ buttonText, prix }));


});
    
  });
</script>

{{> footer}}
